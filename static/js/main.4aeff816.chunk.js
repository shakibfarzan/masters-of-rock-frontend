(this["webpackJsonpmasters-of-rock-frontend"]=this["webpackJsonpmasters-of-rock-frontend"]||[]).push([[0],{177:function(e,t,n){"use strict";(function(e){var a=n(41),r=n.n(a);t.a={init:function(){e.on("uncaughtException",(function(t){console.log("WE GOT AN UNCAUGHT EXCEPTION!"),r.a.error(t.message,t),e.exit(1)})),e.on("unhandledRejection",(function(t){console.log("WE GOT AN UNHANDLED REJECTION!"),r.a.error(t.message,t),e.exit(1)})),r.a.add(new r.a.transports.File({filename:"logFile.log"})),r.a.add(new r.a.transports.Console({colorize:!0,prettyPrint:!0}))},log:function(e){r.a.error(e)}}}).call(this,n(12))},204:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},277:function(e,t){},279:function(e,t){},314:function(e,t){},316:function(e,t){},456:function(e,t,n){},457:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(82),c=n.n(s),i=n(16),o=n(14),l=n(2),u=n(3),d=n(4),m=n(5),h=n(13),j=n(22),b=(n(204),n(205),n(206),n(207),n(8)),p=n.n(b),O=n(9),g=n(10),f=n(174),v=n(40),x=n.n(v),S=n(177);x.a.defaults.baseURL=Object({NODE_ENV:"production",PUBLIC_URL:"/shakibfarzan/masters-of-rock-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,x.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(S.a.log(e),j.b.error("A unexpected error occurred")),Promise.reject(e)}));var y={get:x.a.get,post:x.a.post,put:x.a.put,delete:x.a.delete,setJwt:function(e){x.a.defaults.headers.common.token=e}};function N(){return y.get("/artists")}function k(e){return y.get("/artists/discography/".concat(e))}function C(e){return y.get("/albums/songs/".concat(e))}function _(){return y.get("/songs")}function w(e){return y.get("/songs/".concat(e))}function T(e,t){var n={likes:t};return y.put("/songs/likes/".concat(e),n)}var E=n(0),A=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={items:[],collapse:"collapse navbar-collapse"},e.handleOnSelect=function(e){switch(e.biography?"Artist":e.album?"Song":"Album"){case"Artist":window.location="/artists/".concat(e._id);break;case"Song":window.location="/songs/".concat(e._id);break;case"Album":window.location="/albums/".concat(e._id)}},e.formatResult=function(e){return e},e.handleClickOnLinks=function(){var t="navbar-collapse collapsing";e.setState({collapse:t}),t="collapse navbar-collapse"===e.state.collapse?"collapse navbar-collapse show":"collapse navbar-collapse",e.setState({collapse:t})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(p.a.mark((function e(){var t,n,a,r,s,c,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:return t=e.sent,n=t.data,e.next=6,y.get("/albums");case 6:return a=e.sent,r=a.data,e.next=10,_();case 10:s=e.sent,c=s.data,i=[].concat(Object(O.a)(n),Object(O.a)(r),Object(O.a)(c)),this.setState({items:i});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.user,t=e?"u-link":"";return Object(E.jsxs)("nav",{className:"navbar navbar-expand-md fixed-top",children:[Object(E.jsx)("button",{className:"navbar-toggler",type:"button",onClick:this.handleClickOnLinks,children:Object(E.jsx)("img",{src:"https://img.icons8.com/material-outlined/24/ffffff/menu--v1.png",className:"nav-icon",alt:"search"})}),Object(E.jsx)(i.c,{to:"/",className:"navbar-brand",children:"Masters Of Rock"}),Object(E.jsx)("form",{children:Object(E.jsx)("div",{className:"search-box",children:Object(E.jsx)(f.ReactSearchAutocomplete,{items:this.state.items,placeholder:"Search...",onSelect:this.handleOnSelect,formatResult:this.formatResult,styling:{iconColor:"#4830a1",borderRadius:"0",height:"40px",fontFamily:"sans-serif"}})})}),Object(E.jsx)("div",{className:this.state.collapse,id:"collapsibleNavbar",children:Object(E.jsxs)("ul",{className:"navbar-nav",children:[Object(E.jsx)("li",{className:"nav-item",onClick:this.handleClickOnLinks,children:Object(E.jsx)(i.c,{to:"/artists",className:"nav-link ".concat(t),children:"Artists"})}),e?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("li",{className:"nav-item mb-1 mr-3",onClick:this.handleClickOnLinks,children:Object(E.jsx)(i.c,{to:"/songs",className:"nav-link ".concat(t),children:"Songs"})}),Object(E.jsx)("li",{className:"nav-item",onClick:this.handleClickOnLinks,children:Object(E.jsxs)("div",{className:"dropdown-container",children:[Object(E.jsxs)("div",{className:"nav-item dropdown",children:[Object(E.jsx)("button",{type:"button",className:"btn btn-primary-m dropdown-toggle","data-toggle":"dropdown",children:e.username}),Object(E.jsxs)("div",{className:"dropdown-menu",children:[Object(E.jsx)(i.c,{to:"/favorites",className:"dropdown-item",children:"My Favorite Songs"}),Object(E.jsx)(i.c,{to:"/suggestion",className:"dropdown-item",children:"Suggestions"}),Object(E.jsx)(i.c,{to:"/profile",className:"dropdown-item",children:"Edit profile"})]})]}),Object(E.jsx)("img",{src:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/shakibfarzan/masters-of-rock-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MEDIA_URL).concat(e.avatar),alt:"avatar",className:"align-self-start nav-avatar"})]})})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("li",{className:"nav-item",onClick:this.handleClickOnLinks,children:Object(E.jsx)(i.c,{to:"/songs",className:"nav-link",children:"Songs"})}),Object(E.jsx)("li",{className:"nav-item mb-2 mr-3",onClick:this.handleClickOnLinks,children:Object(E.jsx)(i.c,{to:"/signIn",className:"nav-link",children:"Sign In"})}),Object(E.jsx)("li",{className:"nav-item",onClick:this.handleClickOnLinks,children:Object(E.jsx)(i.c,{to:"/createAccount",className:"btn btn-primary-m",children:"Create Account"})})]})]})})]})}}]),n}(r.a.Component),F=function(e){var t=e.srcImage,n=e.altImage,a=e.heading,r=e.paragraphText,s=e.buttonText,c=e.is100,o=e.id,l=e.linkTo,u=c?"card card-100":"card",d=c?"primary":"secondary";return Object(E.jsxs)("div",{id:o,className:u,children:[Object(E.jsx)("img",{className:"card-img-top",src:t,alt:n}),Object(E.jsxs)("div",{className:"card-body",children:[Object(E.jsx)("h4",{className:"card-title",children:a}),Object(E.jsx)("p",{className:"card-text",children:r}),Object(E.jsx)(i.b,{to:l,className:"btn btn-".concat(d,"-m stretched-link"),children:s})]})]})},P=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={artists:[],firstArtist:{},secondArtist:{},imgFA:"",imgSA:""},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(p.a.mark((function e(){var t,n,a,r,s,c,i,o,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:t=e.sent,n=t.data,this.setState({artists:n}),a=n.length,r=Math.floor(Math.random()*a),(s=Math.floor(Math.random()*a))===r&&(s=s===a-1?0:a-1),c=n[r],i=n[s],this.setState({firstArtist:c,secondArtist:i}),o=c.images[0],l=i.images[0],this.setState({imgFA:o,imgSA:l});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.firstArtist,n=e.secondArtist,a=e.imgSA,s=e.imgFA;return Object(E.jsx)(r.a.Fragment,{children:Object(E.jsx)("div",{className:"card-container",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)(F,{srcImage:"images/cards/genre.jpg",altImage:"genre",heading:"Explore Genres",paragraphText:"Explore genres and see their description. You can listen some example of them and get know about bands that have song in those genres.",buttonText:"Genres",is100:!0,linkTo:"/genres"}),Object(E.jsx)("div",{className:"col-6",children:Object(E.jsx)(F,{id:t._id,srcImage:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/shakibfarzan/masters-of-rock-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MEDIA_URL).concat(s),altImage:t.name,heading:t.name,paragraphText:t.biography,buttonText:"See Artist",linkTo:"/artists/".concat(t._id)})}),Object(E.jsx)("div",{className:"col-6",children:Object(E.jsx)(F,{id:n._id,srcImage:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/shakibfarzan/masters-of-rock-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MEDIA_URL).concat(a),altImage:n.name,heading:n.name,paragraphText:n.biography,buttonText:"See Artist",linkTo:"/artists/".concat(n._id)})})]})})})}}]),n}(r.a.Component),D=function(e){var t=e.active,n=e.data_bs_interval,a=e.src,r=e.alt,s=e.caption,c=t?"carousel-item active":"carousel-item";return Object(E.jsxs)("div",{className:c,"data-bs-interval":n,children:[Object(E.jsx)("img",{src:a,alt:r}),Object(E.jsx)("div",{className:"carousel-caption",children:s})]})},L=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(E.jsxs)("div",{id:"demo",className:"carousel slide","data-ride":"carousel",children:[Object(E.jsx)("ul",{className:"carousel-indicators",children:this.renderIndicators()}),Object(E.jsx)("div",{className:"carousel-inner",children:this.renderItems()}),Object(E.jsx)("a",{className:"carousel-control-prev",href:"#demo","data-slide":"prev",children:Object(E.jsx)("span",{className:"carousel-control-prev-icon"})}),Object(E.jsx)("a",{className:"carousel-control-next",href:"#demo","data-slide":"next",children:Object(E.jsx)("span",{className:"carousel-control-next-icon"})})]})}},{key:"renderIndicators",value:function(){for(var e=[],t=0;t<this.props.images.length;t++)0===t?e.push(Object(E.jsx)("li",{"data-target":"#demo","data-slide-to":"0",className:"active"},0)):e.push(Object(E.jsx)("li",{"data-target":"#demo","data-slide-to":"".concat(t)},t));return e}},{key:"renderItems",value:function(){var e=Object(O.a)(this.props.images),t=e.shift(),n=[],a=Object(E.jsxs)(r.a.Fragment,{children:[Object(E.jsx)("h4",{children:"Masters of Rock"}),Object(E.jsx)("p",{children:"For Rock Lovers"})]}),s=[Object(E.jsx)("button",{className:"btn btn-primary-m",children:"Find Best Backing Tracks for Improvising"}),Object(E.jsx)("button",{className:"btn btn-outline-s",children:"Listen Your Favorite Songs"}),Object(E.jsx)("button",{className:"btn btn-outline",children:"Suggest Your Favorite Artist"}),Object(E.jsx)("button",{className:"btn btn-secondary-m",children:"Express Your Experience"})];n.push(Object(E.jsx)(D,{active:!0,data_bs_interval:"5000",src:t.src,alt:t.src,caption:a}));var c=0;return e.forEach((function(e){n.push(Object(E.jsx)(D,{active:!1,data_bs_interval:"2000",src:e.src,alt:e.src,caption:s[c++]},c))})),n}}]),n}(a.Component),R=function(e){var t=e.title,n=e.paragraph1,a=e.paragraph2,r=e.footer,s=e.link;return Object(E.jsxs)("div",{className:"container homepageText",children:[Object(E.jsx)("h1",{children:t}),Object(E.jsx)("h5",{children:n}),Object(E.jsx)("h5",{children:a}),Object(E.jsx)("p",{className:"footer-paragraph",children:r}),Object(E.jsxs)("p",{children:["You can download it"," ",Object(E.jsx)("a",{className:"footer-link",href:s,children:"here"})]})]})},I=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={carouselImages:[{src:"images/slider/n-kamalov-WackSEiqyys-unsplash.jpg",alt:"Guitarist"},{src:"images/slider/mink-mingle-HRyjETL87Gg-unsplash.jpg",alt:"Disk"},{src:"images/slider/bogomil-mihaylov-ekHSHvgr27k-unsplash.jpg",alt:"Microphone"},{src:"images/slider/simon-weisser-phS37wg8cQg-unsplash.jpg",alt:"Concert"},{src:"images/slider/yannis-papanastasopoulos-yWF2LLan-_o-unsplash.jpg",alt:"Guitar"}]},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(E.jsxs)(r.a.Fragment,{children:[Object(E.jsx)(L,{images:this.state.carouselImages}),Object(E.jsx)(P,{}),Object(E.jsx)(R,{title:"Our Goal",paragraph1:"This platform is designed for rock music lovers and those who want to get acquainted with this music, to get to know their favorite artists better and to have easy access to their works.",paragraph2:"Here you can suggest your favorite artists to add and read other people's comments about their works as well as other bad artists' works.",footer:"The design and content of this website is inspired by the book Master of Rock Guitar by Peter Fisher",link:"dlscrib.com-pdf-masters-of-rock-guitar-the-peter-fischer-volledig-dl_2baae4f2610699a6d021968ccd9ee907.pdf"})]})}}]),n}(r.a.Component),H=function(e){var t=e.lineUp;return Object(E.jsx)("div",{className:"d-flex",children:t.map((function(e){return Object(E.jsx)("div",{className:"p-2 flex-fill",children:Object(E.jsxs)("p",{children:[Object(E.jsx)("strong",{children:e.name.firstname+" "+e.name.lastname}),e.instruments.map((function(e){return Object(E.jsxs)(r.a.Fragment,{children:[Object(E.jsx)("br",{}),e.name]})}))]})})}))})},U=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).renderCards=function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n];a&&t.push(Object(E.jsxs)(r.a.Fragment,{children:[Object(E.jsx)("div",{className:"card-header",children:Object(E.jsx)("a",{className:"card-link","data-toggle":"collapse",href:"#collapse".concat(n),children:a.title})}),Object(E.jsx)("div",{id:"collapse".concat(n),className:"collapse","data-parent":"#accordion",children:Object(E.jsx)("div",{className:"card-body",children:a.body})})]}))}return t},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.subTitle,a=e.image,r=e.imageAlt,s=e.elements,c=e.cover?"img-fluid img-cover":"img-fluid ";return Object(E.jsx)("div",{className:"accordion-container",children:Object(E.jsxs)("div",{className:"card card-fluid",children:[Object(E.jsx)("h1",{children:t}),Object(E.jsx)("h2",{children:n}),Object(E.jsx)("img",{className:c,src:a,alt:r}),Object(E.jsx)("div",{id:"accordion",className:"accordion",children:this.renderCards(s)})]})})}}]),n}(r.a.Component),M=function(e){var t=e.albums,n=e.singleTracks;return Object(E.jsxs)(r.a.Fragment,{children:[0!==t.length&&Object(E.jsxs)(r.a.Fragment,{children:[Object(E.jsx)("h4",{children:"Albums"}),Object(E.jsx)("div",{className:"d-flex flex-wrap",children:t.map((function(e){return Object(E.jsx)("div",{className:"p-2",children:Object(E.jsx)(i.b,{to:"/albums/".concat(e._id),className:"nav-link",children:e.name})})}))})]}),0!==n.length&&Object(E.jsxs)(r.a.Fragment,{children:[Object(E.jsx)("h4",{children:"Single Tracks"}),Object(E.jsx)("div",{className:"d-flex flex-wrap",children:n.map((function(e){return Object(E.jsx)("div",{className:"p-2",children:Object(E.jsx)(i.b,{to:"/songs/".concat(e._id),className:"nav-link",children:e.name})})}))})]})]})},B=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={artistName:"",artistEpithet:"",artistImg:"",elements:[]},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(p.a.mark((function e(){var t,n,a,r,s,c,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o=this.props.match.params.id,y.get("/artists/".concat(o));case 2:return t=e.sent,n=t.data,e.next=6,k(this.props.match.params.id);case 6:a=e.sent,r=a.data,s=r.albums,c=r.single_tracks,i=[n.biography&&{title:"Biography",body:Object(E.jsx)("p",{children:n.biography})},(n.lineUp||0!==n.line_up.length)&&{title:"Line Up",body:Object(E.jsx)(H,{lineUp:n.line_up})},n.personal_influence&&{title:"Personal Influence",body:Object(E.jsx)("p",{children:n.personal_influence})},n.essential_stylistic_features&&{title:"Essential Stylistic Features",body:Object(E.jsx)("p",{children:n.essential_stylistic_features})},n.harmonic_material&&{title:"Harmonic Material",body:Object(E.jsx)("p",{children:n.harmonic_material})},n.sound&&{title:"Sound",body:Object(E.jsx)("p",{children:n.sound})},(0!==s.length||0!==c.length)&&{title:"Discography",body:Object(E.jsx)(M,{albums:s,singleTracks:c})}],this.setState({artistName:n.name,artistEpithet:n.epithet,artistImg:n.images[0],elements:i});case 11:case"end":return e.stop()}var o}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.artistName,n=e.artistEpithet,a=e.artistImg,r=e.elements,s=t?Object(E.jsx)(U,{title:t,subTitle:n,image:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/shakibfarzan/masters-of-rock-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MEDIA_URL).concat(a),imageAlt:t,elements:r}):Object(E.jsx)("h1",{className:"title",children:"This Artist not found"});return Object(E.jsx)("div",{className:"component",children:s})}}]),n}(r.a.Component),z=n(54),W=n.n(z),K=function(e){var t=e.itemsCount,n=e.pageSize,a=e.currentPage,r=e.onPageChange,s=Math.ceil(t/n);if(1===s)return null;var c=W.a.range(1,s+1);return Object(E.jsx)("nav",{children:Object(E.jsx)("ul",{className:"pagination",children:c.map((function(e){return Object(E.jsx)("li",{className:e===a?"page-item active":"page-item",children:Object(E.jsx)("a",{href:"#",className:"page-link",onClick:function(){return r(e)},children:e})},e)}))})})},V=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).getTwoEqualsArray=function(e){for(var t=[],n=[],a=0;a<e.length;a++)a%2===0?t.push(e[a]):n.push(e[a]);return{firstArray:t,secondArray:n}},e.renderCards=function(t,n){for(var a=[];0!==t.length||0!==n.length;){var s=t.shift(),c=s.images[0],i=n.shift(),o=i.images[0];a.push(Object(E.jsxs)(r.a.Fragment,{children:[Object(E.jsx)("div",{className:"col-6",children:Object(E.jsx)(F,{id:s._id,srcImage:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/shakibfarzan/masters-of-rock-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MEDIA_URL).concat(c),altImage:s.name,heading:s.name,paragraphText:s.biography,buttonText:"See ".concat(s.name," page"),linkTo:"/".concat(e.props.link,"/").concat(s._id)})}),i&&Object(E.jsx)("div",{className:"col-6",children:Object(E.jsx)(F,{id:i._id,srcImage:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/shakibfarzan/masters-of-rock-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MEDIA_URL).concat(o),altImage:i.name,heading:i.name,paragraphText:i.biography,buttonText:"See ".concat(i.name," page"),linkTo:"/".concat(e.props.link,"/").concat(i._id)})})]}))}return a},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.data,t=this.getTwoEqualsArray(e);return Object(E.jsx)("div",{className:"card-container",children:Object(E.jsx)("div",{className:"row",children:this.renderCards(t.firstArray,t.secondArray)})})}}]),n}(r.a.Component);function G(){return{send:Object(E.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1.2rem",viewBox:"0 0 24 24",width:"1.2rem",fill:"#FFFFFF",children:[Object(E.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(E.jsx)("path",{d:"M4.01 6.03l7.51 3.22-7.52-1 .01-2.22m7.5 8.72L4 17.97v-2.22l7.51-1M2.01 3L2 10l15 2-15 2 .01 7L23 12 2.01 3z"})]}),asc:Object(E.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1.2rem",viewBox:"0 0 24 24",width:"1.2rem",fill:"#FFFFFF",children:[Object(E.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(E.jsx)("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14l-6-6z"})]}),desc:Object(E.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1.2rem",viewBox:"0 0 24 24",width:"1.2rem",fill:"#FFFFFF",children:[Object(E.jsx)("path",{d:"M24 24H0V0h24v24z",fill:"none",opacity:".87"}),Object(E.jsx)("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"})]}),like:Object(E.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1.2rem",viewBox:"0 0 24 24",width:"1.2rem",fill:"#FFFFFF",children:[Object(E.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(E.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})]}),dislike:Object(E.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1.2rem",viewBox:"0 0 24 24",width:"1.2rem",fill:"#FFFFFF",children:[Object(E.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(E.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"})]}),comment:Object(E.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1.2rem",viewBox:"0 0 24 24",width:"1.2rem",fill:"#FFFFFF",children:[Object(E.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(E.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM20 4v13.17L18.83 16H4V4h16zM6 12h12v2H6zm0-3h12v2H6zm0-3h12v2H6z"})]})}}var q=function(e){var t=e.searchName,n=e.searchValue,a=e.onChange,r=e.hasSorting,s=e.hasFiltering,c=e.sortsAttr,i=e.filtersAttr,o=e.sortObj;return Object(E.jsx)("form",{className:"form-inline",children:Object(E.jsxs)("div",{className:"filter",children:[Object(E.jsx)("input",{type:"text",name:"query",class:"form-control mr-sm-2",value:n,placeholder:"Searching on ".concat(t),onChange:function(e){return a(e.currentTarget.value)}}),r&&Object(E.jsxs)("div",{className:"dropdown mr-sm-2",children:[Object(E.jsxs)("button",{type:"button",className:"btn btn-secondary-m dropdown-toggle","data-toggle":"dropdown",children:["asc"===o.order?G().asc:G().desc," Sort By"," ",o.title]}),Object(E.jsx)("div",{className:"dropdown-menu",children:c.map((function(e){return Object(E.jsx)("a",{className:"dropdown-item",onClick:e.func,children:e.name})}))})]}),s&&i.map((function(e){return Object(E.jsxs)("div",{className:"dropdown",children:[Object(E.jsxs)("button",{type:"button",className:"btn btn-secondary-m dropdown-toggle","data-toggle":"dropdown",children:["Filter By ",e.title]}),Object(E.jsx)("div",{className:"dropdown-menu",children:e.links.map((function(e){return Object(E.jsx)("a",{className:"dropdown-item",onClick:e.func,children:e.name})}))})]})}))]})})};function Q(e,t,n){var a=(t-1)*n;return W()(e).slice(a).take(n).value()}function J(e,t,n){var a={path:e};return a.order="asc"===t?"desc":"asc",a.title=n,a}function Y(e,t){var n=!1;return t.forEach((function(t){t.name===e.name&&(t.title=e.title,n=!0)})),n||t.push(e),t}var X=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={data:[],currentPage:Number,pageSize:Number,searchQuery:"",sort:{},current:[]},e.handlePageChange=function(t){e.setState({currentPage:t})},e.handleSearch=function(t){e.setState({searchQuery:t,currentPage:1})},e.searchQueryFunction=function(e){},e.getPageData=function(){var t=e.state,n=t.data,a=t.currentPage,r=t.pageSize,s=t.searchQuery,c=t.sort,i=t.current,o=n;i&&i.forEach((function(e){"All"!==e.title&&(o=o.filter((function(t){return t[e.name]===e.title})))})),s&&(o=e.searchQueryFunction(n));var l=W.a.orderBy(o,[c.path],[c.order]);return{page:Q(l,a,r),total:l}},e.handleSort=function(t,n){e.setState({sort:J(t,e.state.sort.order,n)})},e.handleFilter=function(t,n){e.setState({current:Y(t,n)})},e.sortsAttr=function(){},e.filtersAttr=function(){},e}return n}(r.a.Component),Z=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={currentPage:1,pageSize:4,sort:{path:"name",order:"asc",title:"Name"},data:[]},e.searchQueryFunction=function(t){return t.filter((function(t){return t.biography.toLowerCase().includes(e.state.searchQuery.toLowerCase())}))},e.sortsAttr=function(){return[{name:"Name",func:function(){return e.handleSort("name")}}]},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:t=e.sent,n=t.data,this.setState({data:n});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.sortsAttr();return Object(E.jsxs)("div",{className:"component",children:[Object(E.jsx)(q,{searchName:"artists",searchValue:this.state.searchQuery,onChange:this.handleSearch,hasSorting:!0,hasFiltering:!1,sortsAttr:e,sortObj:this.state.sort}),0===this.getPageData().total.length?Object(E.jsx)("h1",{className:"title",children:"There is no artists"}):Object(E.jsxs)(r.a.Fragment,{children:[Object(E.jsx)(V,{data:this.getPageData().page,link:"artists"}),Object(E.jsx)(K,{pageSize:this.state.pageSize,currentPage:this.state.currentPage,itemsCount:this.state.data.length,onPageChange:this.handlePageChange})]})]})}}]),n}(X),$=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(E.jsx)("div",{className:"component",children:Object(E.jsx)("h1",{children:"Create Account"})})}}]),n}(r.a.Component),ee=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(E.jsx)("div",{className:"component",children:Object(E.jsx)("h1",{children:"Genres"})})}}]),n}(r.a.Component),te=n(39),ne=n(197),ae=function(e){var t=e.inputs,n=e.schema,a=e.onSubmit,r=e.onChange,s=e.btnTitle,c=e.btnIcon,l=Object(te.d)({resolver:Object(ne.a)(n)}),u=l.register,d=l.handleSubmit,m=l.formState.errors;return Object(E.jsxs)("form",{onSubmit:d(a),onChange:r,children:[function(){var e=[];return t.forEach((function(t){var n,a,r;switch(t.style){case"textarea":e.push(Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("textarea",Object(o.a)({className:"form-control",rows:"5",id:t.name,name:t.name,type:t.type,placeholder:"".concat(t.name,"...")},u(t.name))),Object(E.jsx)("p",{className:"error",children:null===(n=m[t.name])||void 0===n?void 0:n.message})]}));break;case"input":e.push(Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{htmlFor:t.name,children:t.label}),Object(E.jsx)("input",Object(o.a)({name:t.name,id:t.name,type:t.type,className:"form-control",placeholder:t.name},u(t.name))),Object(E.jsx)("p",{className:"error",children:null===(a=m[t.name])||void 0===a?void 0:a.message})]}));break;case"select":e.push(Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{htmlFor:t.name,children:t.label}),Object(E.jsx)("select",Object(o.a)(Object(o.a)({className:"form-control",id:t.name},u(t.name)),{},{children:t.options.map((function(e){return Object(E.jsx)("option",{value:e,children:e})}))})),Object(E.jsx)("p",{className:"error",children:null===(r=m[t.name])||void 0===r?void 0:r.message})]}));break;case"link":e.push(Object(E.jsx)(i.b,{to:t.toLink,className:"nav-link",children:t.title}))}})),e}(),s&&Object(E.jsxs)("button",{type:"submit",className:"btn btn-outline",children:[s," ",c]})]})},re=n(32),se=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={inputData:{}},e.onChange=function(t){var n=Object(o.a)({},e.state.inputData);n[t.target.name]=t.target.value,e.setState({inputData:n})},e.onSubmit=function(){},e}return n}(r.a.Component),ce=n(183),ie="token";function oe(){return(oe=Object(g.a)(p.a.mark((function e(t,n){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("/auth",{username:t,password:n});case 2:a=e.sent,r=a.data,localStorage.setItem(ie,r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){return localStorage.getItem(ie)}y.setJwt(le());var ue={signIn:function(e,t){return oe.apply(this,arguments)},signInWithJwt:function(e){localStorage.setItem(ie,e)},signOut:function(){localStorage.removeItem(ie)},getCurrentUser:function(){try{var e=localStorage.getItem(ie);return Object(ce.a)(e)}catch(t){return null}},getJwt:le},de=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).schema=re.a({username:re.b().required().min(5).max(30),password:re.b().required().min(8)}).required(),e.inputs=[{style:"input",type:"text",name:"username",label:"Enter Username"},{style:"input",type:"password",name:"password",label:"Enter Password"},{style:"link",title:"Forget Password?",toLink:"/forgetPassword"}],e.onSubmit=Object(g.a)(p.a.mark((function t(){var n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.state.inputData,t.next=4,ue.signIn(n.username,n.password);case 4:a=e.props.location.state,window.location=a?a.from.pathname:"/",t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),t.t0.response&&400===t.t0.response.status&&j.b.error(t.t0.response.data);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e}return Object(u.a)(n,[{key:"render",value:function(){return ue.getCurrentUser()?Object(E.jsx)(h.a,{to:"/"}):Object(E.jsx)("div",{className:"component",children:Object(E.jsxs)("div",{className:"form-container",children:[Object(E.jsx)("h1",{className:"title",children:"Sign In"}),Object(E.jsx)(ae,{schema:this.schema,btnTitle:"Submit",inputs:this.inputs,onSubmit:this.onSubmit,onChange:this.onChange})]})})}}]),n}(se),me=function(e){var t=Object(h.g)();return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[t]),Object(E.jsx)(E.Fragment,{children:e.children})},he=n(196),je=(n(454),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isLiked:!1,currentSong:{}},e.handleClickLikeBtn=Object(g.a)(p.a.mark((function t(){var n,a,r,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.isLiked,a=e.state.currentSong,r=!n,e.setState({isLiked:r}),s=Object(o.a)({},a),r?s.likes+=1:s.likes-=1,t.prev=6,t.next=9,T(s._id,s.likes);case 9:t.next=15;break;case 11:t.prev=11,t.t0=t.catch(6),t.t0.response&&t.t0.response>=400&&t.t0.response<=500&&j.b.error(t.t0.response),e.setState({currentSong:a,isLiked:n});case 15:case"end":return t.stop()}}),t,null,[[6,11]])}))),e.renderLikeBtn=function(){return e.state.isLiked?Object(E.jsxs)("button",{onClick:e.handleClickLikeBtn,className:"btn btn-sm btn-primary-m",children:[G().like," Liked"]}):Object(E.jsxs)("button",{onClick:e.handleClickLikeBtn,className:"btn btn-sm btn-outline",children:[G().dislike," Like"]})},e.renderPlayer=function(e,t,n){return Object(E.jsx)(he.a,{src:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/shakibfarzan/masters-of-rock-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MEDIA_URL).concat(e),hasDefaultKeyBindings:!0,showJumpControls:!1,autoPlay:!1,autoPlayAfterSrcChange:!1,onPlay:function(){return Object(j.b)("You are listen to ".concat(t," by ").concat(n),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}})},e.renderCover=function(e,t){return Object(E.jsx)("img",{src:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/shakibfarzan/masters-of-rock-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MEDIA_URL).concat(e),alt:t,className:"cover"})},e.renderCommentBtn=function(e,t){return Object(E.jsxs)("button",{onClick:function(){return t(e)},className:"btn btn-sm btn-secondary-m",children:[G().comment," Comment"]})},e.renderInAlbumPage=function(t,n,a,r,s,c){return Object(E.jsxs)("div",{className:"audio-container",children:[Object(E.jsxs)("p",{children:["Genre: ",n]}),Object(E.jsxs)("div",{className:"top-of-cover",children:[e.renderLikeBtn(t),e.renderCommentBtn(t,a)]}),e.renderPlayer(r,s,c)]},t)},e.renderInSongs=function(t,n,a,r,s,c,i,o){return Object(E.jsx)("div",{className:"audio-container with-border with-cover",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsxs)("div",{className:"col-8",children:[Object(E.jsx)("h3",{children:n}),Object(E.jsx)("h4",{children:a}),Object(E.jsx)("div",{className:"song-property",children:Object(E.jsxs)("p",{children:["Album: ",r,Object(E.jsx)("br",{}),"Genre: ",s]})}),e.renderPlayer(c,n,a)]}),Object(E.jsxs)("div",{className:"col-4",children:[Object(E.jsxs)("div",{className:"top-of-cover",children:[e.renderLikeBtn(t),e.renderCommentBtn(t,i)]}),e.renderCover(o,n)]})]})},t)},e.renderInSongPage=function(t,n,a,r,s,c){return Object(E.jsxs)("div",{className:"audio-container song-page",children:[e.renderCover(c,t),Object(E.jsx)("h3",{className:"title mb-0 mt-4",children:t}),Object(E.jsx)("h4",{className:"title mb-4 mt-2",children:n}),e.renderPlayer(s,t,n),Object(E.jsx)("p",{className:"title title-bold mb-0 mt-4",children:a}),Object(E.jsx)("p",{className:"title mb-2 mt-2",children:r})]})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(this.props.id);case 2:t=e.sent,n=t.data,this.setState({currentSong:n});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.id,n=e.name,a=e.artistName,r=e.albumName,s=e.genre,c=e.url,i=e.coverUrl,o=e.onComment,l=e.type,u=i||"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/shakibfarzan/masters-of-rock-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MEDIA_URL,"/images/covers/Cover-music.jpg");switch(l){case"AlbumPage":return this.renderInAlbumPage(t,s,o,c,n,a);case"Songs":return this.renderInSongs(t,n,a,r,s,c,o,u);case"SongPage":return this.renderInSongPage(n,a,r,s,c,u)}}}]),n}(r.a.Component)),be=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={currentPage:1,pageSize:10,sort:{path:"name",order:"asc",title:"Name"}},e.searchQueryFunction=function(t){var n=e.state.searchQuery.toLowerCase();return t.filter((function(e){return e.name.toLowerCase().includes(n)||e.artistName.toLowerCase().includes(n)||e.albumName.toLowerCase().includes(n)||e.genre.toLowerCase().includes(n)||e.type.toLowerCase().includes(n)}))},e.sortsAttr=function(){return[{name:"Name",func:function(){return e.handleSort("name","Name")}},{name:"Date Uploaded",func:function(){return e.handleSort("dateUploaded","Date Uploaded")}},{name:"Released Year",func:function(){return e.handleSort("album.year","Released Year")}},{name:"Popularity",func:function(){return e.handleSort("likes","Popularity")}}]},e.filtersAttr=function(){return[{title:"Type",links:[{name:"All",func:function(){return e.handleFilter({name:"type",title:"All"},e.state.current)}},{name:"Original Song",func:function(){return e.handleFilter({name:"type",title:"OriginalSong"},e.state.current)}},{name:"Backing Track",func:function(){return e.handleFilter({name:"type",title:"BackingTrack"},e.state.current)}},{name:"Jam Track",func:function(){return e.handleFilter({name:"type",title:"JamTrack"},e.state.current)}}]}]},e.handleClickComment=function(t){e.props.history.push("/song/".concat(t)),j.b.info("This is song page to see and send comments.")},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(p.a.mark((function e(){var t,n,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.type?[{name:"type",title:this.props.match.params.type}]:[],e.next=3,_();case 3:n=e.sent,a=n.data,r=a.map((function(e){return{id:e._id,name:e.name,artistName:e.artist.name,albumName:e.album.name,genre:e.genre.name,url:e.url,cover:e.album.cover,type:e.type}})),this.setState({current:t,data:r});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.sortsAttr(),n=this.filtersAttr();return Object(E.jsxs)("div",{className:"component",children:[Object(E.jsx)(q,{searchName:"song names, album names, artist names, genres",searchValue:this.state.searchQuery,onChange:this.handleSearch,hasSorting:!0,hasFiltering:!0,sortsAttr:t,filtersAttr:n,sortObj:this.state.sort}),0===this.getPageData().total.length?Object(E.jsx)("h1",{className:"title",children:"There is no songs"}):Object(E.jsxs)(r.a.Fragment,{children:[Object(E.jsx)("div",{className:"audios",children:this.getPageData().page.map((function(t){return Object(E.jsx)(je,{id:t.id,name:t.name,artistName:t.artistName,albumName:t.albumName,genre:t.genre,url:t.url,coverUrl:t.cover,onComment:function(){return e.handleClickComment(t.id)},type:"Songs"})}))}),Object(E.jsx)(K,{pageSize:this.state.pageSize,currentPage:this.state.currentPage,itemsCount:this.getPageData().total.length,onPageChange:this.handlePageChange})]}),Object(E.jsx)(me,{})]})}}]),n}(X),pe=(n(455),n(195)),Oe=n.n(pe),ge=function(e){var t=e.text,n=e.submitText,a=e.acceptFiles,r=e.maxFiles,s=e.minSizeBytes,c=e.maxSizeBytes,i=e.onSubmit;return Object(E.jsx)(Oe.a,{submitButtonContent:n,inputContent:t,getUploadParams:function(e){e.meta;return{url:"https://httpbin.org/post"}},onChangeStatus:function(e,t){var n=e.meta,a=e.file;console.log(t,n,a)},onSubmit:i,accept:a,maxFiles:r,minSizeBytes:s,maxSizeBytes:c})},fe=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={files:[]},e.schema=re.a({artistName:re.b().required().min(2).max(255),description:re.b().required().max(2048)}).required(),e.inputs=[{style:"input",type:"text",name:"artistName",label:"Enter Artist Name"},{style:"textarea",type:"text",name:"description",label:"Enter Description"}],e.onSubmit=function(){},e.handleSubmitFiles=function(t,n){e.setState({files:t}),console.log(t),n.forEach((function(e){return e.remove()}))},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(E.jsxs)("div",{id:"suggestion-popup",className:"suggestion-form",children:[Object(E.jsx)("a",{className:"close",href:"#",children:"\xd7"}),Object(E.jsx)("h2",{children:"Send Suggestions"}),Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-5",children:Object(E.jsx)(ae,{inputs:this.inputs,schema:this.schema,onSubmit:this.onSubmit,onChange:this.onChange,btnTitle:"Send suggestion"})}),Object(E.jsx)("div",{className:"col-7",children:Object(E.jsx)(ge,{text:"Drag or drop files that you want to upload for your suggestion",submitText:"Done",acceptFiles:"image/jpeg,image/png,image/webp,audio/mpeg,video/mp4",maxFiles:2,maxSizeBytes:52428800,onSubmit:this.handleSubmitFiles})})]})]})}}]),n}(se),ve=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(E.jsxs)("div",{className:"component",children:[Object(E.jsx)(fe,{}),Object(E.jsx)("a",{className:"btn btn-secondary-m",href:"#suggestion-popup",children:"Create your suggestions"})]})}}]),n}(X),xe=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(E.jsx)("div",{className:"component",children:Object(E.jsx)("h1",{children:"Express your experience"})})}}]),n}(r.a.Component),Se=function(){return Object(E.jsx)("div",{className:"component",children:Object(E.jsx)("h1",{children:"Not Found"})})},ye=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={album:{},artistName:"",songs:[],songArtists:[],songGenres:[]},e.handleClickComment=function(t){e.props.history.push("/song/".concat(t)),j.b.info("This is song page to see and send comments.")},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(p.a.mark((function e(){var t,n,a,r,s,c,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o=this.props.match.params.id,y.get("/albums/".concat(o));case 2:return t=e.sent,n=t.data,e.next=6,C(this.props.match.params.id);case 6:a=e.sent,r=a.data,s=n.artist.name,c=[],i=[],r.forEach((function(e){c.push(e.artist),i.push(e.genre)})),this.setState({album:n,songs:r,artistName:s,songArtists:c,songGenres:i});case 13:case"end":return e.stop()}var o}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.album,n=e.artistName;return Object(E.jsx)("div",{className:"component",children:t?Object(E.jsx)(r.a.Fragment,{children:Object(E.jsx)(U,{title:t.name,subTitle:n,image:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/shakibfarzan/masters-of-rock-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MEDIA_URL).concat(t.cover),imageAlt:t.name,elements:this.renderElements(),cover:!0})}):Object(E.jsx)("h1",{className:"title",children:"There is no album"})})}},{key:"renderElements",value:function(){for(var e=[],t=this.state,n=t.songs,a=t.songArtists,r=t.songGenres,s=t.album,c=0;c<n.length;c++)e.push({title:n[c].name,body:Object(E.jsx)(je,{id:n[c]._id,name:n[c].name,artistName:a[c].name,albumName:s.name,genre:r[c].name,url:n[c].url,onComment:this.handleClickComment,type:"AlbumPage"})});return e}}]),n}(r.a.Component);var Ne=function(e){var t=e.user,n=e.body,a=e.dateSent;return console.log(t),Object(E.jsxs)("div",{className:"media mb-1",children:[Object(E.jsx)("img",{src:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/shakibfarzan/masters-of-rock-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MEDIA_URL).concat(t.avatar),alt:"".concat(t.name.firstname," ").concat(t.name.lastname," avatar"),className:"align-self-start mr-3"}),Object(E.jsxs)("div",{className:"media-body",children:[Object(E.jsxs)("h5",{children:[t.name.firstname+" "+t.name.lastname,"\xa0\xa0\xa0\xa0",Object(E.jsxs)("small",{children:["@",t.username]})]}),Object(E.jsx)("p",{children:n}),Object(E.jsx)("p",{children:Object(E.jsx)("small",{children:a})})]})]})},ke=re.a({Comment:re.b().required().max(4e3)}).required(),Ce=[{style:"textarea",type:"text",name:"Comment"}],_e=function(e){var t=e.comments,n=e.onChange,a=e.onSubmit;return Object(E.jsxs)("div",{className:"card card-song-page comment-container",children:[Object(E.jsx)("div",{className:"media-container",children:0===t.length?Object(E.jsxs)("h4",{children:["Doesn't have comments ",Object(E.jsx)("br",{}),"Send your comment"]}):t.map((function(e){return Object(E.jsx)(Ne,{user:e.user,body:e.body,dateSent:new Date(e.dateSent).toDateString()},e._id)}))}),Object(E.jsx)(ae,{schema:ke,inputs:Ce,onChange:n,onSubmit:a,btnTitle:"Send",btnIcon:G().send})]})},we=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={currentSong:{},artistName:"",albumName:"",genreName:"",cover:"",comments:[]},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(p.a.mark((function e(){var t,n,a,r,s,c,i,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(this.props.match.params.id);case 2:return t=e.sent,n=t.data,a=n.artist.name,r=n.album.name,s=n.genre.name,c=n.album.cover,e.next=10,l=this.props.match.params.id,y.get("/comments/".concat(l));case 10:i=e.sent,o=i.data,this.setState({currentSong:n,comments:o,artistName:a,albumName:r,genreName:s,cover:c});case 13:case"end":return e.stop()}var l}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.currentSong,n=e.comments,a=e.artistName,r=e.albumName,s=e.genreName,c=e.cover;return Object(E.jsx)("div",{className:"component",children:t?Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-6",children:Object(E.jsx)("div",{className:"card card-song-page",children:Object(E.jsx)(je,{id:t._id,name:t.name,artistName:a,albumName:r,genre:s,url:t.url,coverUrl:c,type:"SongPage"})})}),Object(E.jsx)("div",{className:"col-6",children:Object(E.jsx)(_e,{comments:n,onChange:this.onChange,onSubmit:this.onSubmit})})]}):Object(E.jsx)("h1",{className:"title",children:"This song not found!"})})}}]),n}(se),Te=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(E.jsx)("div",{className:"component",children:Object(E.jsx)("h1",{children:"Forget Password"})})}}]),n}(r.a.Component),Ee=function(e){e.user;return null},Ae=n(17),Fe=n(11);var Pe=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(p.a.mark((function e(){var t,n,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{name:"type",title:"OriginalSong"}],e.next=3,y.get("/favorites/myFavoriteSongs");case 3:n=e.sent,a=n.data,console.log(a),r=a.map((function(e){return{id:e.song._id,name:e.song.name,artistName:e.song.artist.name,albumName:e.song.album.name,genre:e.song.genre.name,url:e.song.url,cover:e.song.album.cover,type:e.song.type}})),this.setState({current:t,data:r});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(Ae.a)(Object(Fe.a)(n.prototype),"render",this).call(this)}}]),n}(be),De=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=document.createElement("script");e.src="/masters-of-rock-frontend/src/utils/essential_audio.js",e.async=!0,document.body.appendChild(e);var t=ue.getCurrentUser();this.setState({user:t})}},{key:"render",value:function(){var e=this.state.user;return Object(E.jsxs)(r.a.Fragment,{children:[Object(E.jsx)(j.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(E.jsx)("header",{children:Object(E.jsx)(A,{user:e})}),Object(E.jsxs)("main",{className:"container",children:[Object(E.jsxs)(h.d,{children:[Object(E.jsx)(h.b,{path:"/albums/:id",component:ye}),Object(E.jsx)(h.b,{path:"/song/:id",component:we}),Object(E.jsx)(h.b,{path:"/artists/:id",component:B}),Object(E.jsx)(h.b,{path:"/artists",component:Z}),Object(E.jsx)(h.b,{path:"/createAccount",component:$}),Object(E.jsx)(h.b,{path:"/genres",component:ee}),Object(E.jsx)(h.b,{path:"/homePage",component:I}),Object(E.jsx)(h.b,{path:"/signIn",component:de}),Object(E.jsx)(h.b,{path:"/songs/:type",component:be}),Object(E.jsx)(h.b,{path:"/songs",component:be}),Object(E.jsx)(h.b,{path:"/suggestion",component:ve}),Object(E.jsx)(h.b,{path:"/yourExperience",component:xe}),Object(E.jsx)(h.b,{path:"/forgetPassword",component:Te}),Object(E.jsx)(h.b,{path:"/profile",render:function(t){return Object(E.jsx)(Ee,Object(o.a)(Object(o.a)({},t),{},{user:e}))}}),Object(E.jsx)(h.b,{path:"/favorites",component:Pe}),Object(E.jsx)(h.b,{path:"/not-found",component:Se}),Object(E.jsx)(h.a,{from:"/",exact:!0,to:"/homePage"}),Object(E.jsx)(h.a,{to:"/not-found"})]}),Object(E.jsx)(me,{})]})]})}}]),n}(a.Component),Le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,458)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};n(456);c.a.render(Object(E.jsx)(r.a.StrictMode,{children:Object(E.jsx)(i.a,{children:Object(E.jsx)(De,{})})}),document.getElementById("root")),Le()}},[[457,1,2]]]);
//# sourceMappingURL=main.4aeff816.chunk.js.map